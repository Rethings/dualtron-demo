(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,a){},105:function(e,t){},107:function(e,t){},190:function(e,t){},191:function(e,t){},221:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(45),c=a.n(r),o=(a(102),a(89)),s=a.n(o);window.mq={client:null,values:[],callbacks:[],init:function(){this.client=s.a.connect("mqtts://mq.meeo.xyz",{username:"jms-vt0git1",password:"user_ri99kRC3V5GoXKsC",clientId:"web_"+Math.random().toString(16).substr(2,8),reconnectPeriod:5e3}),this.client.on("connect",this.connectCallback.bind(this)),this.client.on("reconnect",this.reconnectCallback.bind(this)),this.client.on("offline",this.offlineCallback.bind(this)),this.client.on("error",this.errorCallback.bind(this)),this.client.on("message",this.newMessageCallback.bind(this))},connectCallback:function(){console.log("Connected...")},reconnectCallback:function(){console.log("Reconnecting...")},offlineCallback:function(){console.log("Offline...")},errorCallback:function(e){console.log("Error...",e)},newMessageCallback:function(e,t){this.values[e]=""+t,Array.isArray(this.callbacks[e])&&this.callbacks[e].forEach((function(e){"function"===typeof e&&e(""+t)}))},subscribe:function(e,t){Array.isArray(this.callbacks[e])||(this.callbacks[e]=[],this.client.subscribe(e,{qos:1})),this.callbacks[e].push(t),"undefined"!==typeof this.values[e]&&t(this.values[e])},publish:function(e,t){this.client.publish(e,""+t,{qos:1,retain:!0})}},window.mq.init();var i=a(26),m=a(16),u=a(3),f=a(4),d=a(6),h=a(5),b=a(35),p=a(36),g=function(e){return l.a.createElement("label",{style:e.style,for:e.labelFor,className:"text-gray-600 mb-2"},e.children)},x=function(e){return l.a.createElement("input",{style:e.style,placeholder:e.placeholder,type:e.type,className:"bg-gray-200 h-10 w-full p-1 px-2 border-gray-400 border-solid border rounded "})},E=function(e){return l.a.createElement("div",{style:e.style,className:"".concat(e.className," mb-4 ")},e.children)},v=function(e){return l.a.createElement("input",{style:e.style,onClick:e.onClick,type:"submit",value:e.children,className:e.className})},y=function(e){return l.a.createElement("form",{className:e.className},e.children)},w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={animation:!1},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.setState({animation:!0})}),500)}},{key:"render",value:function(){return l.a.createElement("div",{className:"w-full h-full flex"},l.a.createElement("div",{className:"h-full w-2/4 bg-teal-900"}),l.a.createElement("div",{className:"h-full w-2/4 flex justify-center items-center transform transition ease-in duration-700 ".concat(this.state.animation?"opacity-100":"translate-y-10 opacity-0")},l.a.createElement(y,{className:"w-6/12 bg-white rounded"},l.a.createElement("div",{className:"mb-4 transform"},l.a.createElement("h1",{className:"text-2xl"},"Welcome!")),l.a.createElement(E,{className:"flex flex-col"},l.a.createElement(g,null,"Email"),l.a.createElement(x,{type:"email",placeholder:"Email"})),l.a.createElement(E,{className:"flex flex-col"},l.a.createElement(g,null,"Password"),l.a.createElement(x,{type:"password",placeholder:"Password"})),l.a.createElement(E,{className:"flex flex-col"},l.a.createElement("div",null,l.a.createElement("input",{className:"mr-1",id:"remember-me-checkbox",type:"checkbox"}),l.a.createElement("label",{className:"text-gray-500 text-sm",for:"remember-me-checkbox"},"Remember Me")),l.a.createElement("a",{href:"/",className:"text-blue-500 hover:text-blue-300 text-sm "},"Forget Password?")),l.a.createElement(E,{className:"flex flex-col"},l.a.createElement(v,{className:"h-10 w-full mb-1 p-1 px-2 bg-teal-900 hover:bg-teal-800 text-white rounded cursor-pointer"},"Login"),l.a.createElement(i.b,{to:"/sign-up",className:"text-blue-500 hover:text-blue-300 text-sm"},"Don't have an account yet?")),l.a.createElement("div",null,l.a.createElement("div",{className:"flex items-center mb-5"},l.a.createElement("div",{className:"w-full h-px bg-gray-300"}),l.a.createElement("span",{className:"w-full text-center text-gray-500"},"Sign up with"),l.a.createElement("div",{className:"w-full h-px bg-gray-300"})),l.a.createElement("div",{className:"flex mx-auto justify-center items-center"},l.a.createElement("div",{className:"w-10 mx-3 h-10 bg-blue-700 rounded-full flex justify-center items-center hover:bg-blue-600 cursor-pointer"},l.a.createElement(b.a,{icon:p.a,className:"text-white"})),l.a.createElement("div",{className:"w-10 mx-3 h-10 bg-red-700 rounded-full flex justify-center items-center hover:bg-red-600 cursor-pointer"},l.a.createElement(b.a,{icon:p.c,className:"text-white"})),l.a.createElement("div",{className:"w-10 mx-3 h-10 bg-black rounded-full flex justify-center items-center hover:bg-gray-800 cursor-pointer"},l.a.createElement(b.a,{icon:p.b,className:"text-white"})))))))}}]),a}(n.Component),N=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={animation:!1},e}return Object(f.a)(a,[{key:"componentWillMount",value:function(){var e=this;setInterval((function(){return e.setState({animation:!0})}),500)}},{key:"render",value:function(){return l.a.createElement("div",{className:"w-full h-full flex"},l.a.createElement("div",{className:"h-full w-2/4 bg-teal-900"}),l.a.createElement("div",{className:"h-full w-2/4 flex justify-center items-center transform transition ease-in duration-700 ".concat(this.state.animation?"opacity-100":"translate-y-10 opacity-0")},l.a.createElement(y,{className:"w-6/12 bg-white rounded"},l.a.createElement("div",{className:"mb-4"},l.a.createElement("h1",{className:"text-2xl"},"Create an Account")),l.a.createElement(E,{className:"flex flex-col"},l.a.createElement(g,null,"Name"),l.a.createElement(x,{type:"text",placeholder:"Name"})),l.a.createElement(E,{className:"flex flex-col"},l.a.createElement(g,null,"Email Address"),l.a.createElement(x,{type:"email",placeholder:"Email"})),l.a.createElement(E,{className:"flex flex-col"},l.a.createElement(g,null,"Password"),l.a.createElement(x,{type:"password",placeholder:"Password"})),l.a.createElement(E,{className:"flex flex-col"},l.a.createElement(g,null,"Contact Number (optional)"),l.a.createElement(x,{type:"text",placeholder:"Contact"})),l.a.createElement("div",{className:"my-8"}),l.a.createElement(E,{className:"flex flex-col items-center"},l.a.createElement(v,{className:"h-10 w-full mb-1 p-1 px-2 bg-teal-900 hover:bg-teal-800 text-white rounded cursor-pointer"},"Register"),l.a.createElement(i.b,{to:"/login",className:"text-blue-500 hover:text-blue-300 text-sm"},"Already have an account?")))))}}]),a}(n.Component),O=a(92),k=a.n(O),j=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(f.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"rounded-full bg-green-500 cursor-pointer w-12 h-12 sm:w-10 sm:h-10"}))}}]),a}(n.Component),C=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(f.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"flex w-12 h-12 flex-col justify-between px-1 py-3 cursor-pointer group"},l.a.createElement("div",{className:"h-1 bg-gray-900 w-full group-hover:bg-gray-700"}),l.a.createElement("div",{className:"h-1 bg-gray-900 w-1/2 group-hover:bg-gray-700"}),l.a.createElement("div",{className:"h-1 bg-gray-900 w-2/3 group-hover:bg-gray-700"})))}}]),a}(n.Component),S=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return l.a.createElement("nav",{className:"z-10 absolute w-11/12 flex items-center justify-between right-0 left-0 mt-10 mx-auto bg-white py-3 px-5 sm:px-3 sm:py-1 rounded shadow-lg"},l.a.createElement("div",{className:"absolute flex items-center justify-center sm:w-20 w-32 right-0 left-0 mx-auto rounded-full bg-white p-3"},l.a.createElement("img",{className:"",alt:"",src:k.a,width:"100",height:"100"})),l.a.createElement(C,null),l.a.createElement(j,null))}}]),a}(n.Component),M=a(25),T=a(93),z=a.n(T),I=a(94),P=a.n(I);var A=function(e){return l.a.createElement("div",{className:"w-full h-full absolute flex justify-center items-center"},l.a.createElement("div",{className:"loader h-20 w-20 ease-linear rounded-full border-8 border-t-8 border-gray-200 z-10"}),l.a.createElement("div",{className:"w-full h-full absolute bg-gray-700 opacity-75"}))},q=a(223),R=a(224);function F(e){var t=e.text,a=e.onOk;return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"h-2/4 w-full bg-green-500 flex flex-col items-center justify-center rounded"},l.a.createElement(q.a,{color:"white",size:50}),l.a.createElement("h1",{className:"text-white font-bold mt-3"},"SUCCESS")),l.a.createElement("h1",{className:"h-1/4 py-2 px-3"},t),l.a.createElement("div",{className:"h-1/4 w-full flex items-center justify-center"},l.a.createElement("button",{onClick:a,className:"w-1/3 bg-green-500 py-1 rounded text-white"},"OK")))}function W(e){var t=e.text,a=e.onOk;return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"h-2/4 w-full bg-red-500 flex flex-col items-center justify-center rounded"},l.a.createElement(R.a,{color:"white",size:50}),l.a.createElement("h1",{className:"text-white font-bold mt-3"},"ERROR")),l.a.createElement("h1",{className:"h-1/4 py-2 px-3"},t),l.a.createElement("div",{className:"h-1/4 w-full flex items-center justify-center"},l.a.createElement("button",{onClick:a,className:"w-1/3 bg-red-500 py-1 rounded text-white"},"OK")))}var L=function(e){var t=e.className,a=e.children,n=e.type,r=void 0===n?"default":n,c=e.text,o=void 0===c?"":c,s=e.onClose,i=e.onOk;return l.a.createElement("div",{className:"absolute flex items-center justify-center left-0 top-0 w-full h-full z-10"},l.a.createElement("div",{className:"".concat(t," modal w-1/4 h-30vh min-h-30vh sm:w-11/12 md:w-3/4 lg:w-2/4 bg-white rounded-md z-10 flex flex-col items-center justify-between")},"default"===r&&a,"success"===r&&l.a.createElement(F,{text:o,onOk:i}),"error"===r&&l.a.createElement(W,{text:o,onOk:i})),l.a.createElement("div",{onClick:s,className:"absolute left-0 top-0 w-full h-full bg-gray-800 opacity-50"}))},K=[],_=function(e){var t=e.onChange,a=e.autoTab,n=e.index,r=l.a.createRef();return K.push(r),l.a.createElement("input",{ref:r,onChange:t,index:n,onKeyUp:a,maxLength:1,pattern:"\\d*",className:"w-1/6 px-1 py-2 mx-2 sm:mx-1 bg-gray-400 border-b-2 border-red-800 text-center "})},D=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeOTP=function(e){n.setState({otp:e.target.value})},n.onSubmitOTP=function(){n.setState({isLoading:!0}),setTimeout((function(){n.props.onSubmit(n.state.otp)}),"5000")},n.autoTab=function(e){var t=e.target.getAttribute("index")||0;t=Number(t);var a=null;8===e.keyCode?a=t>0&&K[t-1]:46!==e.keyCode&&(a=t<K.length-1&&K[t+1]),a&&a.current.focus()},n.inputs=Array.from({length:6},(function(e,t){return l.a.createElement(_,{key:t,index:t,onChange:n.onChangeOTP,autoTab:n.autoTab})})),n.state={otp:"",isLoading:!1},n}return Object(f.a)(a,[{key:"render",value:function(){return l.a.createElement(L,{className:"justify-around items-center py-3 px-1 md:p-5",onClose:this.props.onClose},l.a.createElement("div",{className:"text-center sm:px-2 px-5 mb-5"},"We have sent an OTP to your registered mobile number. Please input the code here to continue disabling your vehicle."),l.a.createElement("input",{onChange:this.onChangeOTP,placeholder:"6-digits",className:"w-3/5 rounded px-1 py-2 text-center bg-gray-400 border-b-2 border-red-800"}),l.a.createElement("button",{onClick:this.onSubmitOTP,className:"px-4 py-2 bg-red-700 hover:bg-red-600 rounded text-white my-2"},"Submit"),this.state.isLoading&&l.a.createElement(A,null))}}]),a}(n.Component);var U=function(e){var t=e.text,a=e.position,n=void 0===a?"left":a;return l.a.createElement("span",{style:function(){switch(n){case"left":return{left:"-155%"};case"right":return{right:"-155%"};default:return{left:"-155%"}}}(),className:"absolute z-10 py-1 px-4 bg-black text-white text-center mr-10 rounded"},t)},B=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onOpenModal=function(){n.state.isImmobilized?(n.setState({isImmobilized:!1}),n.onPublish(!1)):n.setState({isModalOpen:!0})},n.onCloseModal=function(){n.setState({isModalOpen:!1})},n.onSubscribe=function(e){},n.onPublish=function(e){window.mq.publish("jms-vt0git1/immobilize",e)},n.onSubmit=function(e){"898989"===e?(n.setState({isImmobilized:!0,isModalOpen:!1,success:!0}),n.onPublish(!0)):n.setState({isModalOpen:!1,error:!0})},n.onOk=function(){n.setState({success:!1,error:!1})},n.setToolTip=function(e){n.setState({isTooltipShown:e})},n.state={otp:"",isImmobilized:!1,isModalOpen:!1,isTooltipShown:!1,success:!1,error:!1},n.onSubscribe=n.onSubscribe.bind(Object(M.a)(n)),n}return Object(f.a)(a,[{key:"componentWillMount",value:function(){window.mq.subscribe("jms-vt0git1/immobilize",this.onImmobilize)}},{key:"render",value:function(){var e=this,t=this.state.isImmobilized;return l.a.createElement(n.Fragment,null,l.a.createElement("button",{onMouseEnter:function(){return e.setToolTip(!0)},onMouseLeave:function(){return e.setToolTip(!1)},onClick:this.onOpenModal,className:"".concat(t?"bg-green-500 hover:bg-green-400":"bg-red-500 hover:bg-red-400"," sm:w-16 sm:h-16 w-20 h-20 flex items-center justify-center absolute bottom-0 right-0 m-20 rounded-full sm:mx-auto sm:left-0 sm:mb-10 shadow-lg")},l.a.createElement("div",null,l.a.createElement("img",{className:"h-16 w-16 sm:h-12 sm:w-12",alt:"",src:t?P.a:z.a})),this.state.isTooltipShown&&l.a.createElement(U,{text:t?"Mobilize":"Immobilized"})),this.state.isModalOpen&&l.a.createElement(D,{onClose:this.onCloseModal,onSubmit:this.onSubmit}),this.state.success&&l.a.createElement(L,{type:"success",text:"Successfully Immobilized",onOk:this.onOk}),this.state.error&&l.a.createElement(L,{type:"error",text:"There's a problem Immobilizing Vehicle",onOk:this.onOk}))}}]),a}(n.Component),J=a(95),V=a.n(J),Z=a(96),G=a.n(Z),H=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).distanceToMouse=function(e,t,a){if(e&&t)return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},n.newCoords=function(e){var t=e.split(","),a={lat:parseFloat(t[0]),lng:parseFloat(t[1])};n.setState({coords:a})},n.mapOptions=function(e){return{zoomControl:!1,fullscreenControl:!1}},n.onClick=function(e){console.log(e)},n.state={coords:{lat:0,lng:0}},n.newCoords=n.newCoords.bind(Object(M.a)(n)),n}return Object(f.a)(a,[{key:"componentWillMount",value:function(){window.mq.subscribe("jms-vt0git1/car-tracker",this.newCoords)}},{key:"render",value:function(){var e=this.state.coords,t=function(){return l.a.createElement("img",{src:G.a,alt:"",width:"50",height:"50"})};return l.a.createElement(V.a,{bootstrapURLKeys:{key:"AIzaSyDfvQtvIIe7IqowFMUNaWfEpNs7ZuBH36Y"},center:e,distanceToMouse:this.distanceToMouse,defaultZoom:9,onClick:this.onClick,options:this.mapOptions},l.a.createElement(t,e))}}]),a}(n.Component),Q=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"w-full h-full flex flex-col"},l.a.createElement(S,null),l.a.createElement(H,null),l.a.createElement(B,null))}}]),a}(n.Component);var X=function(){return l.a.createElement("div",{className:"flex flex-col h-screen"},l.a.createElement(i.a,null,l.a.createElement(m.a,{exact:!0,path:"/login",component:w}),l.a.createElement(m.a,{exact:!0,path:"/sign-up",component:N}),l.a.createElement(m.a,{exact:!0,path:"/dashboard",component:Q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,a){e.exports=a.p+"static/media/Dualtron_logo.6d289396.png"},93:function(e,t,a){e.exports=a.p+"static/media/motor_off.037589ca.png"},94:function(e,t,a){e.exports=a.p+"static/media/motor_on.bba0a8ce.png"},96:function(e,t,a){e.exports=a.p+"static/media/scooter.9ccf7f7a.png"},97:function(e,t,a){e.exports=a(221)}},[[97,1,2]]]);
//# sourceMappingURL=main.ba932e4e.chunk.js.map